---
layout: post
title: 브라우저의 렌더링 동작과정
date: 2020-01-08 16:40:00
author: "SeWonKim"
categories: [ETC, 취업연대기]
comments: true
---

# 브라우저는 어떻게 동작하는가?

[브라우저 동작 원리](https://d2.naver.com/helloworld/59361)

## 1. 브라우저(Browser)

![image](https://user-images.githubusercontent.com/30452963/71958868-b1268000-3234-11ea-8177-38a2a3fba1d6.png)

인터넷 익스플로러, 파이어폭스, 사파리, 크롬, 오페라 등 등...

### 브라우저의 주요 기능
- 사용자가 선택한 자원을 서버에 요청 & 브라우저에 표시
- 자원: HTML문서
- 자원의 주소: URL

*브라우저가 HTML 파일을 해석해서 표시하는 것!*

### 브라우저 UI
- 주소 표시줄
- 이전 / 다음 페이지
- 북마크
- 정지 / 새로고침
- 홈

### 브라우저의 기본 구조

![image](https://user-images.githubusercontent.com/30452963/71959404-01eaa880-3236-11ea-86c9-4b64816940f2.png)

**사용자UI > 브라우저 엔진 > 렌더링 엔진**

1. 사용자 인터페이스 - 주소 표시줄, 이전/다음 버튼, 북마크 메뉴 등. 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분.
2. 브라우저 엔진 - 사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어.
3. 렌더링 엔진 - 요청한 콘텐츠를 표시. 예를 들어 HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시.
4. 통신 - HTTP 요청과 같은 네트워크 호출에 사용. 이것은 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행.
5. UI 백엔드 - 콤보 박스와 창 같은 기본적인 장치를 그림. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS 사용자 인터페이스 체계를 사용.

![image](https://user-images.githubusercontent.com/30452963/71959621-7e7d8700-3236-11ea-8998-4613d95004f7.png)       
combo box examples

6. 자바스크립트 해석기 - 자바스크립트 코드를 해석하고 실행.
7. 자료 저장소 - 자료를 저장하는 계층. 쿠키를 저장하는 것과 같이 모든 종류의 자원을 하드 디스크에 저장할 필요가 있음.

## 2. 렌더링 엔진

: 요청받은 내용을 브라우저 화면에 표시. HTML과 CSS를 파싱하여 표시해준다. 파이어폭스는 Gecko엔진을, 사파리와 크롬은 Webkit엔진을 사용한다.

### 렌더링 엔진의 동작 과정

![image](https://user-images.githubusercontent.com/30452963/71960095-838f0600-3237-11ea-8d41-f107845fd73c.png)


1. '통신'으로부터 요청한 문서의 내용을 얻는다. 이때 문서의 내용은 보통 8KB 단위.
2. HTML 문서 파싱
3. 콘텐츠 트리 내부에서 태그를 DOM 노드로 변환      
*콘텐츠 트리? DOM 노드?*
4. 외부 CSS 파일과 함께 포함된 스타일 요소 파싱(렌더 트리 생성)
5. 렌더 트리 배치 시작

**모든 HTML을 파싱할 때까지 기다리지 않고 배치와 그리기 과정을 시작한다. 성격이 급해서 받는 족족 그리면서 네트워크로부터 나머지 내용을 전송받는다.** 

### DOM

Document Object Model    
: 웹 페이지를 Document라고 한다. DOM은 웹 페이지에 대한 인터페이스이다. HTML 문서에 대한 인터페이스이다. 

[DOM은 정확히 무엇일까?](https://wit.nts-corp.com/2019/02/14/5522)

- 웹 문서를 브라우저에 렌더링 하려면 브라우저가 이해할 수 있는 구조로 만들어야한다.
- 렌더링 엔진은 웹 문서를 로드 후, 파싱해서 브라우저가 이해할 수 있는 구조로 만드는데 그 구조가 DOM이다.
