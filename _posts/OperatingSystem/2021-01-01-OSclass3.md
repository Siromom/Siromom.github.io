---
layout: post
title: 🗽이화여자대학교 반효경 교수님 운영체제 강의 - 컴퓨터시스템 구조
date: 2021-01-01 12:10:00
author: "SeWonKim"
categories: [OS]
tags: [jekyll, OS]
fullview: false
comments: true
description: 컴퓨터 하드웨어가 어떻게 동작하는가? 프로그램이 하드웨어 위에서 어떻게 돌아가는가?
---


> [3. System Structure & Program Execution](https://core.ewha.ac.kr/publicview/C0101020140311132925816476?vmode=f)

&nbsp;  

```
TRDR;
- 컴퓨터 시스템 구조
    - CPU와 Interrupt
    - I/O에서의 system call
```

&nbsp;  

# 컴퓨터 시스템 구조

## 🖥️ 컴퓨터시스템 = Computer + I/O device

- Computer = CPU + Memory
- I/O device = Dist, mouse, keyboard, monitor, printer...

`프로그램 ↔️ OS ↔️ CPU`

&nbsp;

### CPU 

- CPU : 매 클럭 사이클마다 메모리에서 기계어를 읽어서 수행
- register : Memory보다 빠르면서 정보를 저장할 수 있는 공간
- mode bit : CPU가 실행하는 것이 OS인지 사용자 프로그램인지 확인
- Interrupt line : CPU의 비서(**CPU는 메모리랑만 일한다.** I/O 디바이스에 일을 시켜놓고 CPU는 또 다른 일을 쭉쭉 실행한다.)
- Memory : CPU의 작업공간 

&nbsp;

### 만약 무한루프를 도는 프로그램을 만들면?

CPU가 그 프로그램만 실행하게 되면 적절히 time sharing을 할 수 없게 된다.     
👉 특정 프로그램이 CPU를 독점하지 않도록 timer가 실행된다. 프로그램은 **timer에 할당 된 시간만 CPU를 사용**할 수 있다. 할당된 시간이 끝나면 Interrupt가 CPU에게 알려준다. 


OS가 프로그램에 CPU를 넘겨줄 때, timer를 걸고 CPU를 넘겨주는 방식으로 time sharing

&nbsp;  

### mode bit

CPU는 mode bit을 통해 커널모드(OS), 사용자모드를 구분해 실행된다.     
사용자모드에서 I/O 장치에 접근하는 instrunction을 실행하면 mode bit을 확인하고, 접근을 제한한다. (I/O 접근은 커널모드에서만 가능하기 때문) **사용자 프로그램이 나쁜짓을 못하도록 제한**하는 것!

&nbsp;
&nbsp;

### I/O의 수행

- 모든 입출력 명령은 운영체제를 통해서만 가능
- 사용자 프로그램이 입출력 명령을 하려면 OS에 부탁(커널 함수 호출)하는데 그것을 System call이라고 한다.
- 사용자 프로그램이 Interrupt를 걸어서 mode bit을 커널모드로 변경. **Trap(소프트웨어 인터럽트) 이라고 한다.**
- I/O 요청시에는 소프트웨어 인터럽트, I/O 작업이 끝나면 하드웨어 인터럽트가 필요.
  
&nbsp;
&nbsp;
