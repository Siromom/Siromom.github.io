---
sidebar_position: 2
---

# Clean Code


## 11장 - 시스템
> 2022.5.12

- 시스템은 깨끗해야한다.
- 실제로 돌아가는 가장 단순한 시스템 & 확장성

### 관심사 분리

**Main 분리**

- 시스템은 준비과정과 런타임 로직을 분리해야한다.
- 객체의 생성은 시작단계에서, 비즈니스 로직은 객체를 사용하는데 집중한다.
- 애플리케이션은 모든 객체가 잘 생성되었다고 가정하고, 만들어진 객체를 사용한다.

**팩토리**

- 객체가 생성되는 시점을 애플리케이션이 결정할 수 있지만 애플리케이션이 객체를 생성하는 코드를 모르는 것

**횡단 관심사 분리**

- 이해가 안간다. EJB, AOP, Java proxy,POJO... 모르는 단어가 쏟아진다.

### 의존성 주입(Dependency Injection)

- 객체 생성을 DI 컨테이너에 맡긴다. 
- DI 컨테이너가 setter 메서드나 인수를 사용해 의존성을 설정한다.
- Java를 살짝 배우긴 했지만 의존성 주입이라는 말이 잘 이해 되지 않았었는데 조금 알 것 같다.

### 테스트 주도 시스템 아키텍처 구축

- 처음부터 올바르게 시스템을 만들 수는 없다.
- TDD, 리팩터링, 클린 코드로 시스템을 조정하고 확장하기 쉽게 만들어야한다.
- 단순하고, 잘 분리된 아키텍처로 결과물을 재빨리 출시한 후, 구조를 추가하면서 조금씩 확장해나가도 좋다.
- 변하는 환경에 대처해 진로를 변경할 능력도 필요하다.



## 12장 - 창발성

- 작은 요소들의 반복이 전체 구조에 영향을 미치는 것

### 모든 테스트를 실행한다

- SRP(Single Responsibility Principle, 단일 책임 원칙)를 준수하는 클래스가 테스트가 훨씬 더 쉽다.
- 결합도가 높으면 테스트를 작성하기 어럽다. 테스트를 실행하는 규칙을 따르면 낮은 결합도와 높은 응집력이라는 목표를 저절로 달성한다. 자연스럽게 설계 품질이 높아진다.
- 테스트 케이스가 있으니까 리팩터링하면서 시스템이 깨질 걱정을 할 필요가 없다.
  
### 중복을 없앤다

- 중복은 추가작업, 추가 위험, 불필요한 복잡도를 뜻한다.
- Template method 패턴

### 프로그래머의 의도를 표현한다

- 소프트웨어 프로젝트 비용 중 대부분은 유지보수에 들어간다. 개발자가 의도가 분명한 코드를 짤 수록 다른 사람이 그 코드를 이해하기 쉬워지고, 유지보수 비용이 적게 들어간다.

** 의도를 표현하는 방법**

- 좋은 이름을 선택한다.
- 함수와 클래스 크기를 가능한 줄인다.
- 표준 명칭을 사용한다.
- 단위 테스트 케이스를 꼼꼼히 작성한다. 잘 만든 테스트 케이스를 읽어보면 클래스 긴으이 한눈에 들어온다.
- 다른 사람이 읽기 쉽게 만들려 충분히 고민, 노-력한다.

### 클래스와 메서드 수를 최소로 줄인다

- 클래스와 메서드 크기를 줄이자고 조그만 클래스와 메서드를 수없이 만들면 득보다 실이 커진다.
- 테스트 케이스를 만들고 중복을 제거하고 의도를 표현하는 작업이 더 중요하다. 실용적인 방식을 택하자.
  
  